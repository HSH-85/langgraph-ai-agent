# 고도화 전후 버전 비교 가이드

## 사용 방법

### 방법 1: Streamlit UI에서 비교

Streamlit UI에서 직접 테스트하여 두 버전의 차이를 확인할 수 있습니다.

1. Streamlit 실행:
```bash
streamlit run app.py
```

2. 금융 관련 질문을 여러 개 입력하여 테스트

3. 메타 정보에서 다음 항목 확인:
   - 금융 도메인 분류
   - 신뢰도 점수
   - 소스 일치도
   - 검색/검증 라운드 수

### 방법 2: Python 스크립트로 직접 비교

비교 스크립트를 사용하여 두 버전을 자동으로 비교할 수 있습니다.

```bash
cd langgraph-ai-agent
python compare_versions.py
```

또는 특정 질문으로 테스트:
```bash
python compare_versions.py "삼성전자 주가는 얼마인가요?"
```

## 비교 항목

### 기본 메트릭
- 문서 개수
- 루프 횟수
- 의도 분석 결과
- 관련성 평가
- 답변 길이
- 사고 과정 단계 수

### 금융 특화 메트릭 (고도화 버전만)
- 금융 도메인 분류
- 신뢰도 점수 (0.0 ~ 1.0)
- 소스 일치도 (high/medium/low)
- 검색 라운드 수 (최대 3라운드)
- 검증 라운드 수 (최대 2라운드)

## 예상 개선 사항

1. **다중 검색 라운드**: 더 많은 문서 수집
2. **검증 라운드**: 문서 품질 향상
3. **신뢰도 계산**: 답변의 신뢰성 정량화
4. **소스 일치도**: 여러 소스 간 일관성 확인
5. **금융 도메인 특화**: 도메인별 맞춤 답변 생성

## 주의사항

- 비교 테스트는 API 호출이 많이 발생하므로 비용이 발생할 수 있습니다
- 테스트 시간이 오래 걸릴 수 있습니다 (각 질문당 1-2분)
- API 키가 모두 설정되어 있어야 합니다 (OpenAI, Tavily, Cohere)

